tosca_definitions_version: tosca_simple_yaml_1_2

description: Definition of the custom types of Micro TOSCA model

group_types:
  micro.groups.Team:
    derived_from: tosca.groups.Root

# relationship definitions
interface_types:
  micro.relationships.RunTime:
    derived_from: tosca.relationships.Root

  micro.relationships.DeploymentTime:
    derived_from: tosca.relationships.Root

# nodes definitions
node_types:
  # root node
  micro.nodes.Root:
    derived_from: tosca.nodes.Root
    requirements:
    - runtimeinteraction:
        capability: tosca.capabilities.Node
        occurrences: [0, UNBOUNDED]
        node: micro.nodes.Root
        relationship: tosca.relationships.RunTime
    - deploymenttimeinteraction:
        capability: tosca.capabilities.Node
        occurrences: [0, UNBOUNDED]
        node: micro.nodes.Root
        relationship: tosca.relationships.DeploymentTime
  # service node
  micro.nodes.service:
    derived_from: tosca.nodes.Root

  # db node
  micro.nodes.db:
    derived_from: micro.nodes.Root
    attributes:
      id:
        type: string
    capabilities:
      attachment:
        type: tosca.capabilities.Attachment
        valid_source_types: [micro.nodes.Container]
        occurrences: [0, UNBOUNDED]

  # infrastructure component node
  micro.nodes.infrastructure:
    derived_from: micro.nodes.Root
    requirements:
      #
    capabilities:
      #
